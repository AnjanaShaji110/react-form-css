{"ast":null,"code":"var _jsxFileName = \"/home/felix/Learning/react-form-css/src/components/AddContact.js\",\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { editContact, saveContact } from \"../action\";\nimport { useAppContext } from \"../appContext\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddContact = () => {\n  _s2();\n  var _s = $RefreshSig$();\n  const {\n    dispatch,\n    contacts\n  } = useAppContext();\n  const [isEdit, setIsEdit] = useState(false);\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const onSubmit = event => {\n    event.preventDefault();\n    const data = new FormData(event.currentTarget);\n    if (isEdit) {\n      contacts[id] = {\n        name: data.get(\"name\"),\n        age: data.get(\"age\"),\n        city: data.get(\"city\")\n      };\n      editContact(dispatch, contacts);\n    } else {\n      saveContact(dispatch, {\n        name: data.get(\"name\"),\n        age: data.get(\"age\"),\n        city: data.get(\"city\")\n      });\n    }\n    navigate(\"/\");\n  };\n  const getContactByIndex = index => {\n    _s();\n    var _contacts$id, _contacts$id2, _contacts$id3;\n    const contact = contacts[index];\n    if (contact) {\n      setIsEdit(true);\n    } else {\n      alert(\"Please enter a valid id\");\n      navigate(\"/\");\n    }\n    useEffect(() => {\n      if (id) {\n        getContactByIndex(id);\n      } else {\n        setIsEdit(false);\n      }\n    }, [id]);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          name: \"name\",\n          defaultValue: isEdit ? (_contacts$id = contacts[id]) === null || _contacts$id === void 0 ? void 0 : _contacts$id.name : \"\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Age:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"age\",\n          name: \"age\",\n          defaultValue: isEdit ? (_contacts$id2 = contacts[id]) === null || _contacts$id2 === void 0 ? void 0 : _contacts$id2.age : \"\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"City:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"city\",\n          name: \"city\",\n          defaultValue: isEdit ? (_contacts$id3 = contacts[id]) === null || _contacts$id3 === void 0 ? void 0 : _contacts$id3.city : \"\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }, this);\n  };\n  _s(getContactByIndex, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n};\n_s2(AddContact, \"NJiCmdWd9DYuObqtRdnA1qLSIwE=\", false, function () {\n  return [useAppContext, useParams, useNavigate];\n});\n_c = AddContact;\nexport default AddContact;\nvar _c;\n$RefreshReg$(_c, \"AddContact\");","map":{"version":3,"names":["React","useEffect","useState","editContact","saveContact","useAppContext","useNavigate","useParams","jsxDEV","_jsxDEV","AddContact","_s2","_s","$RefreshSig$","dispatch","contacts","isEdit","setIsEdit","id","navigate","onSubmit","event","preventDefault","data","FormData","currentTarget","name","get","age","city","getContactByIndex","index","_contacts$id","_contacts$id2","_contacts$id3","contact","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","type","defaultValue","required","_c","$RefreshReg$"],"sources":["/home/felix/Learning/react-form-css/src/components/AddContact.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { editContact, saveContact } from \"../action\";\nimport { useAppContext } from \"../appContext\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n\nconst AddContact = () => {\n  const { dispatch, contacts } = useAppContext();\n  const [isEdit, setIsEdit] = useState(false);\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const onSubmit = (event) => {\n    event.preventDefault();\n    const data = new FormData(event.currentTarget);\n    if (isEdit) {\n      contacts[id] = {\n        name: data.get(\"name\"),\n        age: data.get(\"age\"),\n        city: data.get(\"city\"),\n      };\n      editContact(dispatch, contacts);\n    }\n    else {\n      saveContact(dispatch, {\n        name: data.get(\"name\"),\n        age: data.get(\"age\"),\n        city: data.get(\"city\"),\n      });\n    }\n    navigate(\"/\");\n  };\n  const getContactByIndex = (index) => {\n    const contact = contacts[index];\n    if (contact) {\n      setIsEdit(true);\n    } else {\n      alert(\"Please enter a valid id\");\n      navigate(\"/\");\n    }\n    \n\n  useEffect(() => {\n    if (id) {\n      getContactByIndex(id);\n    } else {\n      setIsEdit(false);\n    }\n  }, [id]);\n \n  return (\n    <div>\n      <form onSubmit={onSubmit}>\n        <label>Name:</label>\n        <br />\n        <input\n          type=\"text\"\n          id=\"name\"\n          name=\"name\"\n          defaultValue={isEdit ? contacts[id]?.name : \"\"}\n          required\n        />\n        <br />\n        <label>Age:</label>\n        <br />\n        <input\n          type=\"number\"\n          id=\"age\"\n          name=\"age\"\n          defaultValue={isEdit ? contacts[id]?.age : \"\"}\n          required\n        />\n        <br />\n        <label>City:</label>\n        <br />\n        <input\n          type=\"text\"\n          id=\"city\"\n          name=\"city\"\n          defaultValue={isEdit ? contacts[id]?.city : \"\"}\n          required\n        />\n        <br />\n        <button type=\"submit\">Save</button>\n      </form>\n    </div>\n  );\n};\n}\n\nexport default AddContact;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}